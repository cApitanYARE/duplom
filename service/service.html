<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="service.css">
    <link rel="icon" href="/photo/transport.png" type="image/png">
    <title>Автомайстерня Absolute</title>
</head>
<body>
    <div class="full_wrapper">
        <div class="for_user">
            <div class="for_user_body">
                
                    <div class="for_user_name">
                        <p>Ім'я: <p style=" padding-left: 10px;"><span id="noneEl">немає</span><span id="userEmail"></span></p></p>
                    </div>
                    <div class="for_user_butt1">
                        <a href="/bd/your_ticket/index.html" class="button_res" id="mytalon" style="display:none;">Ваш талон</a>
                        <a href="/bd/ticket/monday/index.html" class="button_res" id="talon">Талони</a>
                    </div> 
               
                    <div class="for_user_butt2" id="for_user_butt2" style="width: 200px;">
                        <a href="/bd/login/login.html" class="logIn button_res" id="loginButton">Увійти</a>
                        <a href="/bd/signin/signin.html" class="signIn button_res" id="signinButton">Реєстрація</a>
                        <a href="/bd/editing/index.html" class="button_res" id="editButton" hidden>Редагування</a>
                        <a href="/index.html" class="logout button_res" id="logoutButton" style="display:none;">Вийти</a>
                    </div>
                
            </div>
        </div>
        <div class="head_wrapper">
                <div class="head_info">
                <div class="head_img">
                <img src="/photo/transport.png" alt="" class="cyrcule">
                </div>
                
                <div class="head_name">
                <div class="head_name1">
                    <p class="path1">abso</p>
                    <p class="path2">lute</p>
                </div>
                <div class="head_name2">
                    <p>Cервіс ремонту автомобілів</p>
                </div>
            </div>
            <div class="head_main_info">
            <div class="head_email">
                <div class="head_email_name for_head_name">
                 пошта
                </div>
                <div class="head_email_info for_head_info">
                    absoluterepaircar@gmail.com
                </div>                                
            </div>
            <div class="head_openHouse">
                <div class="head_openHours_name for_head_name">
                    Графік
                </div>
                <div class="head_openHouse_info for_head_info">
                    Пн-Пя 9.00-19.00 
                </div>
            </div>
            <div class="head_phoneNumber">
                <div class="head_phoneNumber_icon">
                    <img src="/photo/telephone.png" alt="" class="tel">
                </div>
                <div class="head_phoneNumber_union">
                <div class="head_phoneNumber_name for_head_name">
                    Гаряча лінія
                </div>
                <div class="head_phoneNumber_info for_head_name" style="padding:7px 0 0 0">
                    +380123456789
                </div>
                </div>
            </div>
            </div>
    
         
            </div>
            <div class="head_menu">
                <div id="homeLink" class="head_menu_point">Головна</div>
                <div id="aboutUsLink" class="head_menu_point">про нас</div>
                <div id="serviceLink" class="head_menu_point_start">Сервіс</div>
                <div id="galleryLink" class="head_menu_point">Галерея</div>
                <div id="contactLink" class="head_menu_point_end">зв'язатися з нами</div>
            </div>
        </div>

        <div class="main_photo">
            <div class="main_photo_text">
                <p>Сервіс</p>
            </div>
        </div>

        <div class="content_body">
            <div class="content_service">
                Лише деякі ремонтні майстерні можуть назвати ваш автомобіль своїм шедевром. Ми одна з них. У нашій автомайстерні, ми не просто ремонтуємо автомобілі. Ми створюємо шедеври на колесах. Готові перетворити вашу мрію про ідеальний автомобіль у реальність? Тоді нажміть на кнопку і дізнайтеся більше!
            </div>
            <div class="content_button">
                <a href="/bd/ticket/monday/index.html" class="button_res" id="talon">Забронювати талон</a>
            </div>
        </div>

        <div class="end">
            <div class="end_wrapp">
                <div class="head_wrapp">
                    <div class="head_img_name">
                        <div class="head_img">
                <img src="/photo/transport.png" alt="" class="cyrcule">
                        </div>
                        <div class="head_name">
                            <div class="head_name1">
                                <p class="path1">abso</p>
                                <p class="path2">lute</p>
                            </div>
                            <div class="head_name2">
                                <p>Cервіс ремонту автомобілів</p>
                            </div>
                        </div>
                    </div>
        
                    <div class="head_img_name_subtext">
            <p> Ми раді вітати вас у світі бездоганного автосервісу. Наша команда професіоналів завжди готова надати вам найвищу якість обслуговування та ремонту вашого автомобіля.
            </p>
                    </div>
    
             
                </div>
    
                <div class="end_quick_link">
                    <div class="end_quick_link_wrapp">
                        <div class="end_quick_link_name">
                            Швидкі посилання
                        </div>
                        <div class="end_quick_link_s">
                            <div id="homell">Головна</div>
                            <div id="aboutUsll">Про нас</div>
                            <div id="galleryll">Галерея</div>
                            <div id="contact_usll">Зв'язатися з нами</div>
                        </div>
                    </div>
                </div>
    
                
            </div>
        </div>
    </div>
    <script>

        // Функція для встановлення відображення кнопок входу/реєстрації
        function setLoginButtonsVisibility(isLoggedIn) {
               const loginButton = document.getElementById('loginButton');
               const signinButton = document.getElementById('signinButton');
               if (isLoggedIn) {
                   // Якщо користувач увійшов, приховуємо кнопки входу/реєстрації та показуємо кнопку виходу
                   document.getElementById('logoutButton').style.display = 'inline';
                   document.getElementById('mytalon').style.display = 'inline';
                   document.getElementById('noneEl').style.display = 'none';
                   loginButton.style.display = 'none';
                   signinButton.style.display = 'none';
   
                   const userEmail = localStorage.getItem('userEmail'); // Припустимо, що отримали email користувача з localStorage
   if (userEmail === 'admin@I') {
       // Якщо роль користувача "admin", зробити кнопку редагування видимою
       document.getElementById('editButton').style.display = 'inline';
       document.getElementById('mytalon').style.display = 'none';
   } else {
       // В іншому випадку, приховати кнопку редагування
       document.getElementById('editButton').style.display = 'none';
   }
               } else {
                   // Якщо користувач не увійшов, показуємо кнопки входу/реєстрації та приховуємо кнопку виходу
                   document.getElementById('for_user_butt2').style.width = '300px';
                   document.getElementById('logoutButton').style.display = 'none';
                   loginButton.style.display = 'inline';
                   signinButton.style.display = 'inline';
               }
           }
   
        // Отримання email з URL
        const urlParams = new URLSearchParams(window.location.search);
           const userEmail = urlParams.get('email');
           localStorage.setItem('userEmail', userEmail);
   
           // Відображення email на сторінці
           document.getElementById("userEmail").innerText = userEmail;
   
           // Встановлюємо відображення кнопок входу/реєстрації при завантаженні сторінки
           setLoginButtonsVisibility(userEmail !== null);
   
           // Функція для виходу з облікового запису
           document.getElementById('logoutButton').addEventListener('click', function() {
               // Видаляємо email з URL, симулюючи вихід користувача
               const url = new URL(window.location.href);
               url.searchParams.delete('email');
               window.location.href = url.href;
           });
   
           document.getElementById('talon').addEventListener('click', function() {
               if (userEmail == null){
                   alert("Ви маєте увійти або зареєструватися!");
                   event.preventDefault();
               }
           });
   
           
           document.addEventListener('DOMContentLoaded', async () => {
       // Отримуємо кнопку за її ідентифікатором
   
   
   });
   

   homeLink.addEventListener('click', () => {
          // Отримуємо значення userEmail з localStorage
          const userEmail = localStorage.getItem('userEmail');
  
          // Перевіряємо, чи є значення userEmail і чи воно не пусте
          if (userEmail) {
              // Формуємо новий URL з параметром email та шляхом до index.html
              const newUrl = 'http://127.0.0.1:5502/index.html?email=' + userEmail;
  
              // Переміщуємо користувача на новий URL
              window.location.href = newUrl;
          }
      });

aboutUsLink.addEventListener('click', () => {
          // Отримуємо значення userEmail з localStorage
          const userEmail = localStorage.getItem('userEmail');
  
          // Перевіряємо, чи є значення userEmail і чи воно не пусте
          if (userEmail) {
              // Формуємо новий URL з параметром email та шляхом до index.html
              const newUrl = 'http://127.0.0.1:5502/about_us/aboutUs.html?email=' + userEmail;
  
              // Переміщуємо користувача на новий URL
              window.location.href = newUrl;
          }
      });

      serviceLink.addEventListener('click', () => {
          // Отримуємо значення userEmail з localStorage
          const userEmail = localStorage.getItem('userEmail');
  
          // Перевіряємо, чи є значення userEmail і чи воно не пусте
          if (userEmail) {
              // Формуємо новий URL з параметром email та шляхом до index.html
              const newUrl = 'http://127.0.0.1:5502/service/service.html?email=' + userEmail;
  
              // Переміщуємо користувача на новий URL
              window.location.href = newUrl;
          }
      });

      galleryLink.addEventListener('click', () => {
          // Отримуємо значення userEmail з localStorage
          const userEmail = localStorage.getItem('userEmail');
  
          // Перевіряємо, чи є значення userEmail і чи воно не пусте
          if (userEmail) {
              // Формуємо новий URL з параметром email та шляхом до index.html
              const newUrl = 'http://127.0.0.1:5502/gallery/gallery.html?email=' + userEmail;
  
              // Переміщуємо користувача на новий URL
              window.location.href = newUrl;
          }
      });

      contactLink.addEventListener('click', () => {
          // Отримуємо значення userEmail з localStorage
          const userEmail = localStorage.getItem('userEmail');
  
          // Перевіряємо, чи є значення userEmail і чи воно не пусте
          if (userEmail) {
              // Формуємо новий URL з параметром email та шляхом до index.html
              const newUrl = 'http://127.0.0.1:5502/contact_us/contact_us.html?email=' + userEmail;
  
              // Переміщуємо користувача на новий URL
              window.location.href = newUrl;
          }
      });

      const redirectToPage = (url) => {
    if (userEmail) {
        window.location.href = url + '?email=' + userEmail;
    } else {
        alert("Ви маєте увійти або зареєструватися!");
    }
};

homell.addEventListener('click', () => redirectToPage('http://127.0.0.1:5502/index.html'));
aboutUsll.addEventListener('click', () => redirectToPage('http://127.0.0.1:5502/about_us/aboutUs.html'));
galleryll.addEventListener('click', () => redirectToPage('http://127.0.0.1:5502/gallery/gallery.html'));
contact_usll.addEventListener('click', () => redirectToPage('http://127.0.0.1:5502/contact_us/contact_us.html'));
   </script>
</body>
</html>